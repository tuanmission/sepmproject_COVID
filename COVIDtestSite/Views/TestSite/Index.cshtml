
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Index</h1>

    <div class="table-responsive">
        <table class="table table-hover" id="testtable">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Address</th>
                    <th scope="col">Test Site Type</th>
                    <th scope="col">View Details</th>
                </tr>

            </thead>
            <tbody>
                <tr></tr>
            </tbody>

        </table>
    </div>



@section Scripts{
    <script>
        $(document).ready(function () {
            
            var table = $("#testtable").DataTable({
                ajax: {

                    url: "/api/TestSite/",
                    dataSrc: "",

                },
                columns: [
                    {
                        data: "testSiteName"
                    },
                    {
                        data: "address"
                    },
                    {
                        data: "testsiteType.typeName"

                    },
                    {

                        data: "id",
                        render: function (data) {
                            return "<a href='/TestSite/details/" + data + "' class='btn btn-primary'>View Details</a>";
                        }

                    }

                ]

            });
            

            });
            
            
            
            
            
            
            
      

        

    </script>

}

